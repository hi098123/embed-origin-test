<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>check who use embed</title>
	<script type="text/javascript">
		if(window.location.ancestorOrigins){
		document.write("ancestorOrigins count : "+window.location.ancestorOrigins.length+"<br>");
		document.write("ancestorOrigins : "+window.location.ancestorOrigins[0]+"<br>");
		}
		if(window.location.origin){
		document.write("Origins : "+window.location.origin+"<br>");
		}
		if(window.location.hostname){
		document.write("hostname : "+window.location.hostname+"<br>");
		}
		if(document.referrer){
		document.write("document.referrer : "+document.referrer+"<br>");
		}
		//window.parent.postMessage("hello","*"); 메시지 전송가능
		(function() {
		    var throttle = function(type, name, obj) {
		        obj = obj || window;
		        var running = false;
		        var func = function() {
		            if (running) { return; }
		            running = true;
		            requestAnimationFrame(function() {
		                obj.dispatchEvent(new CustomEvent(name));
		                running = false;
		            });
		        };
		        obj.addEventListener(type, func);
		    };

		    /* init - you can init any event */
		    throttle("resize", "optimizedResize");
		})();
		window.addEventListener('resize',function(e){
			window.parent.postMessage(window.innerHeight,"*");
		})
	</script>
</head>
<body>
	<button onclick="console.log(window);">console get window</button>
</body>
</html>
